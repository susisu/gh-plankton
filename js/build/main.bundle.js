!function(t){function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var e={};n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="/",n(n.s=5)}([function(t,n){t.exports=PIXI},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=Object.freeze({canvasWidth:480,canvasHeight:480,resolution:window.devicePixelRatio});n.default=i},function(t,n,e){"use strict";function i(t,n,e){return Math.min(Math.max(t,n),e)}function a(t,n,e){var i=e-n;return((t-n)%i+i)%i+n}Object.defineProperty(n,"__esModule",{value:!0}),n.clip=i,n.cycle=a},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(0),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(r),s=e(1),u=function(t){return t&&t.__esModule?t:{default:t}}(s),l=e(6),h=1,c=function(){function t(n){var e=this;i(this,t),this.app=n,this.bg=new o.Graphics,this.bg.beginFill(15790320),this.bg.drawShape(n.screen),this.bg.endFill(),this.app.stage.addChild(this.bg),this.planktons=[],this.initPlanktons(),this.app.ticker.add(function(){e.move()}),this.app.stage.interactive=!0,this.app.stage.on("click",function(t){for(var n=t.data.global,i=n.x,a=n.y,r=0;r<e.planktons.length;r++){var o=e.planktons[r];if(Math.pow(o.x-i,2)+Math.pow(o.y-a,2)>0){var s=h,u=Math.atan2(a-o.y,i-o.x);o.applyForce(s*o.mass,u)}}})}return a(t,[{key:"initPlanktons",value:function(){for(var t=0;t<5;t++){var n=l.Gene.random(),e=l.Plankton.fromGene(n,Math.random()*u.default.canvasWidth,Math.random()*u.default.canvasHeight,0,2*Math.random()*Math.PI);e&&(this.app.stage.addChild(e),this.planktons.push(e))}}},{key:"move",value:function(){for(var t=0;t<this.planktons.length;t++){var n=this.planktons[t];n.animate()?(n.x<32?n.applyForce(.1*(32-n.x),0):n.x>=u.default.canvasWidth-32&&n.applyForce(.1*(n.x-(u.default.canvasWidth-32)),-Math.PI),n.y<32?n.applyForce(.1*(32-n.y),Math.PI/2):n.y>=u.default.canvasHeight-32&&n.applyForce(.1*(n.y-(u.default.canvasHeight-32)),-Math.PI/2)):(n.destroy(),this.planktons.splice(t,1),t-=1)}for(var e=0;e<this.planktons.length;e++)for(var i=e+1;i<this.planktons.length;i++){var a=this.planktons[e],r=this.planktons[i],o=Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2);if(0<o&&o<1024){var s=Math.min(64/o,1),l=Math.atan2(a.y-r.y,a.x-r.x);a.applyForce(s,l),r.applyForce(s,-l)}}if(this.planktons.length<50)for(var h=this.planktons.length,c=0;c<h;c++){var f=this.planktons[c];if(f.isReproducible()&&Math.random()<.0015){var p=this.planktons[c].clone();if(p&&(this.app.stage.addChild(p),this.planktons.push(p),this.planktons.length>=50))break}}0===this.planktons.length&&this.initPlanktons()}}]),t}();n.default=c},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function a(t,n,e){return new u(t/255,n/255,e/255)}function r(t,n,e){return new l(t/360,n/255,e/255)}Object.defineProperty(n,"__esModule",{value:!0}),n.HSV=n.RGB=void 0;var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.rgb=a,n.hsv=r;var s=e(2),u=n.RGB=function(){function t(n,e,a){i(this,t),this.r=(0,s.clip)(n,0,1),this.g=(0,s.clip)(e,0,1),this.b=(0,s.clip)(a,0,1)}return o(t,[{key:"clone",value:function(){return new t(this.r,this.g,this.b)}},{key:"toString",value:function(){return"RGB("+this.r+", "+this.g+", "+this.b+")"}},{key:"toHSV",value:function(){return l.fromRGB(this)}},{key:"toHexCode",value:function(){return"#"+Math.floor(255*this.r).toString(16)+Math.floor(255*this.g).toString(16)+Math.floor(255*this.b).toString(16)}},{key:"toInteger",value:function(){return Math.floor(255*this.r)<<16|Math.floor(255*this.g)<<8|Math.floor(255*this.b)}}],[{key:"fromHSV",value:function(n){var e=6*n.h,i=n.s*n.v,a=i*(1-Math.abs(e%2-1)),r=n.v-i;return e<1?new t(i+r,a+r,r):e<2?new t(a+r,i+r,r):e<3?new t(r,i+r,a+r):e<4?new t(r,a+r,i+r):e<5?new t(a+r,r,i+r):new t(i+r,r,a+r)}}]),t}(),l=n.HSV=function(){function t(n,e,a){i(this,t),this.h=(0,s.cycle)(n,0,1),this.s=(0,s.clip)(e,0,1),this.v=(0,s.clip)(a,0,1)}return o(t,[{key:"clone",value:function(){return new t(this.h,this.s,this.v)}},{key:"toString",value:function(){return"HSV("+this.h+", "+this.s+", "+this.v+")"}},{key:"toRGB",value:function(){return u.fromHSV(this)}},{key:"toHexCode",value:function(){return this.toRGB().toHexCode()}},{key:"toInteger",value:function(){return this.toRGB().toInteger()}}],[{key:"fromRGB",value:function(n){var e=Math.max(n.r,n.g,n.b),i=Math.min(n.r,n.g,n.b),a=0===e?0:e;return new t(e===i?0:i===n.b?1/6*(n.g-n.r)/(e-i)+1/6:i===n.r?1/6*(n.b-n.g)/(e-i)+.5:1/6*(n.r-n.b)/(e-i)+5/6,a,e)}}]),t}()},function(t,n,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function a(){window.removeEventListener("load",a);var t=new o.Application(u.default.canvasWidth,u.default.canvasHeight,{antialias:!0,autoResize:!0,resolution:u.default.resolution,transparent:!1}),n=document.getElementById("canvas-wrapper");n&&n.appendChild(t.view),window.game=new h.default(t)}var r=e(0),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(r),s=e(1),u=i(s),l=e(3),h=i(l);window.addEventListener("load",a)},function(t,n,e){"use strict";function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function a(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Plankton=n.Expression=n.Gene=void 0;var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(0),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(s),l=e(4),h=e(7),c=e(2),f=(n.Gene=function(){function t(n,e,i){r(this,t),this.hue=n,this.blocks=e,this.size=i}return o(t,[{key:"mutate",value:function(){return new t((0,c.clip)(this.hue+(0,h.randomGaussian)(0,.05),0,1),this.blocks.map(function(t){return(0,c.clip)(t+(0,h.randomGaussian)(0,.05),0,1)}),(0,c.clip)(this.size+(0,h.randomGaussian)(0,.05),0,1))}}],[{key:"random",value:function(){return new t(Math.random(),new Array(15).fill().map(function(){return(0,c.clip)((0,h.randomGaussian)(.5,.25),0,1)}),(0,c.clip)((0,h.randomGaussian)(.25,.125),0,1))}},{key:"cross",value:function(n,e){return new t((0,c.clip)((Math.random()>.5?n.hue:e.hue)+(0,h.randomGaussian)(0,.05),0,1),n.blocks.map(function(t,n){var i=e.blocks[n];return(0,c.clip)((Math.random()>.5?t:i)+(0,h.randomGaussian)(0,.05),0,1)}),(0,c.clip)((Math.random()>.5?n.size:e.size)+(0,h.randomGaussian)(0,.05),0,1))}}]),t}(),n.Expression=function(){function t(n,e,i){r(this,t),this.color=n,this.blocks=e,this.size=i}return o(t,null,[{key:"fromGene",value:function(n){var e=new l.HSV(n.hue+(0,h.randomGaussian)(0,.01),(0,h.randomGaussian)(112/255,16/255),(0,h.randomGaussian)(208/255,16/255)).toInteger(),i=n.blocks.map(function(t){return t+(0,h.randomGaussian)(0,.01)>.5}),a=(0,c.clip)(n.size+(0,h.randomGaussian)(0,.01),0,1);return i.every(function(t){return!t})?null:new t(e,i,a)}}]),t}());n.Plankton=function(t){function n(t,e,a,o,s,l){r(this,n);var c=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));c.gene=t,c.x=a,c.y=o,c.v=s,c.angle=l,c.maxSize=2*e.size+2;for(var f=0,p=0,d=0;d<e.blocks.length;d++){var v=d%3;f+=(e.blocks[d]?Math.pow(1+e.size,2):0)*v,p+=e.blocks[d]?Math.pow(1+e.size,2):0}c.speed=4/f,c.mass=p,c.motionRatio=20,c.life=(0,h.randomGaussian)(1600,500),c.time=0,c.timing=Math.floor(Math.random()*c.motionRatio),c.graphics=new u.Graphics;for(var g=Math.floor(e.blocks.length/3)+1,y=0;y<e.blocks.length;y++)if(e.blocks[y]){var m=y%3,b=Math.floor(y/3)-g/2;0===m?(c.graphics.beginFill(e.color),c.graphics.drawRect(-.5+b,-.5+m,1,1),c.graphics.endFill()):(c.graphics.beginFill(e.color),c.graphics.drawRect(-.5+b,-.5+m,1,1),c.graphics.endFill(),c.graphics.beginFill(e.color),c.graphics.drawRect(-.5+b,-.5-m,1,1),c.graphics.endFill())}return c.graphics.scale=new u.Point(.5,.5),c.graphics.rotation=c.angle,c.graphics.alpha=c.life<100?c.life/100:1,c.addChild(c.graphics),c}return a(n,t),o(n,[{key:"clone",value:function(){return n.fromGene(this.gene.mutate(),this.x,this.y,0,Math.random()*Math.PI*2)}},{key:"applyForce",value:function(t,n){var e=t*Math.cos(n),i=t*Math.sin(n),a=this.v*Math.cos(this.angle)+e/this.mass,r=this.v*Math.sin(this.angle)+i/this.mass;this.v=Math.sqrt(Math.pow(a,2)+Math.pow(r,2)),this.angle=Math.atan2(r,a)}},{key:"animate",value:function(){if(this.life>0){this.x+=this.v*Math.cos(this.angle),this.y+=this.v*Math.sin(this.angle),this.v*=.9,this.time%this.motionRatio===this.timing&&(this.v=this.speed,this.angle=this.angle+(0,h.randomGaussian)(0,Math.PI/60)),this.life-=1,this.time+=1;var t=this.time<500?this.maxSize*(.5+this.time/500*.5):this.maxSize;return this.graphics.scale=new u.Point(t,t),this.graphics.rotation=this.angle,this.graphics.alpha=this.life<100?this.life/100:1,!0}return!1}},{key:"isReproducible",value:function(){return this.time>500&&this.life>=100}}],[{key:"fromGene",value:function(t,e,i,a,r){var o=f.fromGene(t);return o?new n(t,o,e,i,a,r):null}}]),n}(u.Container)},function(t,n,e){"use strict";function i(){if("number"==typeof r){var t=r;return r=void 0,t}var n=Math.random(),e=Math.random(),i=Math.sqrt(-2*Math.log(n)),a=2*Math.PI*e,o=i*Math.cos(a),s=i*Math.sin(a);return r=s,o}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return i()*n+t}Object.defineProperty(n,"__esModule",{value:!0}),n.randomStdGaussian=i,n.randomGaussian=a;var r=void 0}]);